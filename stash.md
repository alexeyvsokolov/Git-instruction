[< back](/readme.md)

# git stash

Команда **git stash** используется для временного скрытия, сохранения всех текущих, незакоммиченных изменений в репозитории Git, в отдельное хранилище, и вернуть файлы к исходному состоянию, очистки рабочей директории без необходимости коммитить незавершённую работу в новую ветку.

Например, выполнены изменения в файлах, но не нужно делать полноценный коммит, при этом требуется переключиться на другую ветку, но так, чтобы там не было текущих изменений. С помощью команды **git stash** можно спрятать текущие изменения в отдельное хранилище.

Команда **git stash** сохраняет неподтвержденные изменения (индексированные и неиндексированные) в отдельном хранилище, чтобы можно было вернуться к ним позже.
Отложенные изменения сохраняются в локальном репозитории Git и не передаются на сервер при выполнении команды push.

Чтобы применить ранее отложенные изменения, используется команда

```
git stash pop
```

При извлечении отложенных изменений они удаляются из набора и применяются к рабочей копии.

Можно также применить изменения к рабочей копии, не удаляя их из набора отложенных изменений. Для этого используется команда

```
git stash apply
```

Это удобно, если нужно применить одни и те же отложенные изменения к нескольким веткам.

*Необходимо помнить об особенности команды git stash: по умолчанию Git не создает отложенные изменения для неотслеживаемых или игнорируемых файлов.*

## Откладывание неотслеживаемых или игнорируемых файлов

По умолчанию команда **git stash** создает следующие отложенные изменения:
- изменения, добавленные в раздел проиндексированных файлов (индексированные изменения);
- изменения в файлах, отслеживаемых Git в настоящее время (неиндексированные изменения).

При этом следующие файлы отложены не будут:
- новые файлы в рабочей копии, которые еще не были проиндексированы;
- игнорируемые файлы.

Т.е. если добавить неиндексированный файл (без выполнения команды git add), при выполнении команды **git stash** этот файл не будет отложен.

Запуск **git stash** с параметром **-u** (или --include-untracked) позволяет отложить неотслеживаемые файлы.

Можно также отложить изменения, внесенные в игнорируемые файлы. Для этого используется параметр **-a** (или --all) при запуске команды **git stash**.

## Просмотр различий между наборами отложенных изменений

Чтобы просмотреть сводные данные по набору отложенных изменений:

```
git stash show
```

Или указать параметр **-p** (или --patch), чтобы просмотреть разницу между наборами изменений:

```
git stash show -p
```